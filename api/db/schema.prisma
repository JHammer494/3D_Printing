datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "darwin", "debian-openssl-3.0.x", "linux-arm64-openssl-3.0.x"]
}

// Define your own datamodels here and run `yarn redwood prisma migrate dev`
// to create migrations for them and apply to your dev DB.
// TODO: Please remove the following example:

model Product {
  id          Int      @id @default(autoincrement())
  title       String
  price       Float
  size        Size     @relation(fields: [size_id], references: [id])
  size_id     Int
  material    Material @relation(fields: [material_id], references: [id])
  material_id Int
  time        Int
  MMP         MMP[]
}

model Machine {
  id    Int    @id @default(autoincrement())
  name  String
  model String
  MMP   MMP[]
}

model Material {
  id       Int       @id @default(autoincrement())
  color    Color     @relation(fields: [color_id], references: [id])
  color_id Int
  type     Int
  MMP      MMP[]
  Product  Product[]
}

model Size {
  id      Int       @id @default(autoincrement())
  volumn  Float?
  weight  Float?
  Product Product[]
}

model Color {
  id       Int        @id @default(autoincrement())
  name     String
  Material Material[]
}

model MMP {
  id          Int      @id @default(autoincrement())
  material    Material @relation(fields: [material_id], references: [id])
  material_id Int
  product     Product  @relation(fields: [product_id], references: [id])
  product_id  Int
  machine     Machine  @relation(fields: [machine_id], references: [id])
  machine_id  Int
}
